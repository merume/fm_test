"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const dependency_1 = require("./dependency");
const utils_1 = require("../../utils");
/**
 * Loads the provided UMD-powered pilet.
 * @param entry The pilet's entry.
 * @param config The configuration for loading the pilet.
 * @returns The evaluated pilet that can now be integrated.
 */
function loader(entry, config) {
    const { dependencies = {}, spec = 'v1', name = `[bundle] ${entry.link}` } = entry, rest = tslib_1.__rest(entry, ["dependencies", "spec", "name"]);
    const meta = Object.assign({ name, version: '', config: {}, spec,
        dependencies }, rest);
    return (0, utils_1.loadFrom)(meta, () => (0, dependency_1.includeBundle)(entry, config.crossOrigin));
}
exports.default = loader;
//# sourceMappingURL=index.js.map