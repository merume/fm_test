import { __rest } from "tslib";
import { includeBundle } from './dependency';
import { loadFrom } from '../../utils';
/**
 * Loads the provided UMD-powered pilet.
 * @param entry The pilet's entry.
 * @param config The configuration for loading the pilet.
 * @returns The evaluated pilet that can now be integrated.
 */
export default function loader(entry, config) {
    const { dependencies = {}, spec = 'v1', name = `[bundle] ${entry.link}` } = entry, rest = __rest(entry, ["dependencies", "spec", "name"]);
    const meta = Object.assign({ name, version: '', config: {}, spec,
        dependencies }, rest);
    return loadFrom(meta, () => includeBundle(entry, config.crossOrigin));
}
//# sourceMappingURL=index.js.map