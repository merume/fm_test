"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readState = exports.dispatch = void 0;
const utils_1 = require("../utils");
function dispatch(ctx, update) {
    const oldState = ctx.state.getState();
    const newState = update(oldState);
    if (!(0, utils_1.isSame)(oldState, newState)) {
        ctx.state.setState(newState);
    }
}
exports.dispatch = dispatch;
function readState(ctx, read) {
    return read(ctx.state.getState());
}
exports.readState = readState;
//# sourceMappingURL=state.js.map